---
import Layout from "../layouts/Layout.astro";
import { projects } from "../lib/data";
import Separator from "../components/ui/Separator";
import { ArrowLeft } from "lucide-react";
import { ProjectCard } from "../components/sections/ProjectCard";
// Import the React component

const sortedProjects = [...projects].sort((a, b) => a.rank - b.rank);

const title = "Projects - Mohamed Yessine Bouajila";
const description = "A collection of my work, showcasing my expertise in building accessible, high-performance web applications.";
const breadcrumbs = [
  { name: "Home", url: "/" },
  { name: "Projects", url: "/projects" }
];
---

<Layout title={title} description={description} breadcrumbs={breadcrumbs}>
  <main class="min-h-dvh max-w-3xl mx-auto px-6">
    <div class="pt-12">
      <a 
        href="/" 
        class="inline-flex items-center gap-2 text-sm text-slate-500 hover:text-slate-950 dark:hover:text-white transition-colors group"
      >
        <ArrowLeft size={16} />
        Back to Home
      </a>
    </div>

    <section class="pt-8 pb-10">
      <h1 class="text-4xl font-bold tracking-tight mb-4">Projects</h1>
      <p class="text-slate-600 dark:text-slate-400 leading-relaxed max-w-lg">
        {description}
      </p>
    </section>

    <section class="py-12">
      <div class="space-y-16">
        {sortedProjects.map((project, index) => (
          <div>
            {index !== 0 && <Separator variant="component" />}
            {/* We use client:load if there are interactive elements (like tooltips or framer-motion) 
               or just let it render if it's purely for layout.
            */}
            <ProjectCard project={project} client:load />
          </div>
        ))}
      </div>
    </section>
  </main>
</Layout>
